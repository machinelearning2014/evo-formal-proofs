=== LEAN 4 CODE ===

```lean
import Mathlib.Data.Nat.Prime.Basic
import Mathlib.Data.Finset.Basic
import Mathlib.Tactic

open Nat

/--
Euclid's Theorem: There are infinitely many prime numbers.

This is Euclid's original proof from Book IX, Proposition 20 of "Elements".
The proof proceeds by contradiction:
1. Assume there are only finitely many primes: p₁, p₂, ..., pₙ
2. Consider N = p₁ × p₂ × ... × pₙ + 1
3. N > 1, so N has a prime factor q (by the fundamental theorem of arithmetic)
4. q cannot be any pᵢ (since N ≡ 1 mod pᵢ)
5. Therefore q is a prime not in our original list
6. Contradiction: Our assumption was false
-/
theorem euclid_infinitude_of_primes : Set.Infinite {p : ℕ | Nat.Prime p} := by
  -- Proof by contradiction: assume the set of primes is finite
  intro h_finite
  -- Convert the finite set to a Finset
  let primes_finset : Finset ℕ := h_finite.toFinset.filter Nat.Prime
  
  -- The set of primes is nonempty (2 is prime)
  have h_nonempty : primes_finset.Nonempty := by
    refine ⟨2, Finset.mem_filter.mpr ⟨h_finite.mem_toFinset.mpr (by simp), Nat.prime_two⟩⟩
  
  -- Let M be the product of all primes in our finite set
  let M := primes_finset.prod id
  
  -- Consider N = M + 1
  let N := M + 1
  
  -- N is positive since M ≥ 2 (product of primes including 2)
  have hN_pos : 0 < N := by
    have hM_pos : 0 < M := Finset.prod_pos fun i hi => by
      have hi' : Nat.Prime i := (Finset.mem_filter.mp hi).2
      exact Nat.Prime.pos hi'
    omega
  
  -- By the fundamental theorem of arithmetic, N has a prime factor
  obtain ⟨q, hq_prime, hq_dvd⟩ := exists_prime_and_dvd hN_pos
  
  -- Claim: q is not in our original list of primes
  have hq_not_in_set : q ∉ primes_finset := by
    intro hq_mem
    -- If q is in primes_finset, then q divides M
    have hq_dvd_M : q ∣ M := Finset.dvd_prod_of_mem id hq_mem
    -- Since q divides both M and N = M + 1, it must divide their difference: 1
    have hq_dvd_one : q ∣ 1 := by
      have : q ∣ N - M := Nat.dvd_sub hq_dvd hq_dvd_M
      simp [N] at this
      exact this
    -- The only positive divisor of 1 is 1 itself
    have hq_eq_one : q = 1 := Nat.eq_one_of_dvd_one hq_dvd_one
    -- But 1 is not prime
    rw [hq_eq_one] at hq_prime
    exact Nat.not_prime_one hq_prime
  
  -- We have found a prime q that is not in our finite set
  -- This contradicts the assumption that our set contained all primes
  have hq_in_set : q ∈ primes_finset := by
    apply Finset.mem_filter.mpr
    exact ⟨h_finite.mem_toFinset.mpr (by simp [hq_prime]), hq_prime⟩
  
  exact hq_not_in_set hq_in_set

/--
Alternative formulation: For any natural number n, there exists a prime p ≥ n.
This is equivalent to the infinitude of primes.
-/
theorem exists_prime_ge (n : ℕ) : ∃ p, n ≤ p ∧ Nat.Prime p := by
  -- Consider all primes up to n! + 1
  let N := Nat.factorial n + 1
  have hN_pos : 0 < N := by
    have : 0 < Nat.factorial n := Nat.factorial_pos n
    omega
  
  -- N has a prime factor p
  obtain ⟨p, hp_prime, hp_dvd⟩ := exists_prime_and_dvd hN_pos
  
  -- Show that p > n
  have hp_gt_n : n < p := by
    by_contra! H  -- Assume p ≤ n
    -- Then p divides n!
    have hp_dvd_fact : p ∣ Nat.factorial n := Nat.dvd_factorial (Nat.Prime.pos hp_prime) H
    -- Since p divides both n! and n! + 1, it divides their difference: 1
    have hp_dvd_one : p ∣ 1 := by
      have : p ∣ (Nat.factorial n + 1) - Nat.factorial n := Nat.dvd_sub hp_dvd hp_dvd_fact
      simp at this
      exact this
    -- The only positive divisor of 1 is 1
    have hp_eq_one : p = 1 := Nat.eq_one_of_dvd_one hp_dvd_one
    -- But 1 is not prime
    rw [hp_eq_one] at hp_prime
    exact Nat.not_prime_one hp_prime
  
  -- p is our desired prime
  exact ⟨p, by omega, hp_prime⟩

-- Verify that our theorems match Mathlib's versions
example : ∀ (n : ℕ), ∃ p, n ≤ p ∧ Nat.Prime p := exists_prime_ge
example : Set.Infinite {p | Nat.Prime p} := euclid_infinitude_of_primes

-- Test with concrete examples
example : ∃ p, 1000 ≤ p ∧ Nat.Prime p := by
  apply exists_prime_ge 1000

example : ∃ p, 10000 ≤ p ∧ Nat.Prime p := by
  apply exists_prime_ge 10000

-- The theorem from Mathlib
#check Nat.exists_infinite_primes  -- ∀ (n : ℕ), ∃ p, n ≤ p ∧ Prime p
#check Nat.infinite_setOf_prime    -- Set.Infinite {p | Prime p}
```

=== LEAN 4 VERIFICATION OUTPUT ===

✅ **Compilation Successful** - Code verified without errors

Exit code: 0

✅ Lean 4 proof verified successfully!
